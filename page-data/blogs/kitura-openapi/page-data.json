{"componentChunkName":"component---src-templates-blogs-js","path":"/blogs/kitura-openapi","result":{"data":{"blog":{"html":"<p>OpenAPI is the most popular way to document RESTful APIs. It allows developers to define interface specifications in a structured machine readable format. These specifications can be both generated and consumed by tools that help in the building of verifiable interfaces. It can make development faster too!</p>\n<p>Kitura 2.4 now includes a feature that allows you to view the OpenAPI specification of your Kitura application. Kitura can expose an OpenAPI document that describes the application interfaces that are defined in your application as Codable routes. Change your application, recompile, and the OpenAPI document will reflect those changes!</p>\n<p>At first this might not seem that exciting, however, integrate it with some extra tooling and this can turn into a powerful development tool.</p>\n<p>So how do you see this OpenAPI document? First, there are a few steps needed to integrate OpenAPI tooling into your application…</p>\n<ul>\n<li>import KituraOpenAPI into your application:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">import</span> <span class=\"token builtin\">KituraOpenAPI</span></code></pre></div>\n<ul>\n<li>Add a call to add API endpoints from the router into KituraOpenAPI. The call should go in your application startup code – perhaps your init() method:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">KituraOpenAPI</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEndpoints</span><span class=\"token punctuation\">(</span>to<span class=\"token punctuation\">:</span> router<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>Add Kitura-OpenAPI.git as a dependency in your Package.swift:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token punctuation\">.</span><span class=\"token function\">package</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">:</span> <span class=\"token string\">\"https://github.com/Kitura-Next/Kitura-OpenAPI.git\"</span><span class=\"token punctuation\">,</span> from<span class=\"token punctuation\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></code></pre></div>\n<ul>\n<li>Then update your dependencies by running <code class=\"language-text\">swift package update</code>.</li>\n</ul>\n<p>Now go ahead, recompile and restart the application and you should be able to view the SwaggerUI page: <a href=\"http://localhost:8080/openapi/ui\">http://localhost:8080/openapi/ui</a> as this will present an API Explorer that is populated from the OpenAPI document, so it shows the routes you have configured in the currently running application.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/32b9df89411884595ab5f1216f911f17/034de/blogopenapi1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.45360824742268%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABXklEQVQoz6WRXUsCQRSG91f0cdEfCLwM+iX9m66CCKqbFMqEuuiq7gQNhLpTsiALIw0rWVHXz/2a/Wh1d/bt7EQhBoI1w8PLOWfemcMZKZlfQ7q6gbPSOuL5JSQKKzjILyJ1E8P10w6uytvIPWwJvZMTuG8eotRMoijv47i4inhhAXuXMexmYuRdhqR0G+j122gpMlzPgM9djAObcOAHniDgox+dJDojzvqRuiKWKpUXVIn3tzp4EOK/Swq5P5UKJ/i9wpCD828CQRAEIg5pS6nsIxrtHjTmwnRGM/CEqqaDoWGT2hjoloj7GiO/Q4/RhZnkOSrlZ/SVLizNgKnqM2GqAaZNQTlLN0WX0slpFrXXOgYDDYZhQdfZ3GjUYeTlnDq8OEpDaXbAKGGoJkwqzg35mLiQOty8zaHWaWHo0SxcC705+fIwDD9s8GiGDU2GQwGzGSwq+nxM+H8i+pRPcEfqtQJLFLAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Blog pic 1\"\n        title=\"Blog pic 1\"\n        src=\"/static/32b9df89411884595ab5f1216f911f17/6ff5e/blogopenapi1.png\"\n        srcset=\"/static/32b9df89411884595ab5f1216f911f17/135ae/blogopenapi1.png 300w,\n/static/32b9df89411884595ab5f1216f911f17/34e8a/blogopenapi1.png 600w,\n/static/32b9df89411884595ab5f1216f911f17/6ff5e/blogopenapi1.png 1200w,\n/static/32b9df89411884595ab5f1216f911f17/034de/blogopenapi1.png 1552w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>One click on a route will expand it so you can see what arguments it takes, what results it can return and a status code, but better still, you can click the “Try it out!” button to exercise that API immediately:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d7c9a2333a740a8fb94f844cf47996ee/08be5/blogopenapi2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.55072463768117%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACwklEQVQ4y6WU2W7TQBSG/SZISEhwVfEGPAKP0DfhEagEolW54AJx0YJYBQJVlE1tWorSfUnS7LHj3WM7nvGW/hw7TjckaMRYX87ic2aOJ2dGevhlCs+37+JDdRpPft3GXOkG5tdu4dHqNbzamsbKwWN83Z3B8vZ9rFZmsdd/hh3lKQ7URXyr38Ns6TrmVm9i5v0dPPg8BUnTZcj9FlqdOjRDRjoMkRRkenpyjqFAkvJziNPYuLAlRemjWj1GtVKDadr43yElSYyM8TihZ/Q7kn+OE6o0xXA4RJpmMs3tXD8ZQnpTquP1j0MYVJ3th3AyBn/HcAYw2QC64+d6hmp58IIQ0vrLT/i+8BadZgOBZSOwHQysf2CPCGx2Jskf+gNI78oKXqw10ZANtMwAHZNWY3xi+g6HE0SQVCp346iHn8R200TDENC8GLpPjOUVyHIYTyAx34eidvO2UQ2F9sGlfXQmxvZseJxD4tyCZ2yBmzuI2D5SXkUaVIjq1clzDiGEBSkUDvqddejNEnxtE6k4RhLUJoNnsjKaMKuQ6WW4ahmc7earJeMK+QQER6MJRcgwFA2qrEUrNXOZEfMGoqCOmIgK4kv2mZ9iBzUE3KZ/2XKxd9xGrS2j2u7hsFYnjiHrFqysiT0O0xcFvEDQO3HBr1Mc49Q2iuWjXFPR1j3IpouuztDRaF9tOgkutRDRM1zIFKd7Idkh2R665Mv8ShZHfpXiGI8hGVRFh46N6lBTa1ZekUXHzyRpFPRMWowSNUrsUxPXenq+wFFLoUIY9WFE/mJCIXfhttvgIkLIQ0IUkC7CXEZirBfvROYbx48Q5I8jmnBpcRkfF5bgOgzMcMBMdgH3ku6e853a1ig38AJI8/sbmN9coZvGhSZoP7gPbUKyHDXwwCK6YLusi67dged7cDy6RfgAURohSsIJoM9Psls7xm9zMd+QLGG5aQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Blog pic 2\"\n        title=\"Blog pic 2\"\n        src=\"/static/d7c9a2333a740a8fb94f844cf47996ee/6ff5e/blogopenapi2.png\"\n        srcset=\"/static/d7c9a2333a740a8fb94f844cf47996ee/135ae/blogopenapi2.png 300w,\n/static/d7c9a2333a740a8fb94f844cf47996ee/34e8a/blogopenapi2.png 600w,\n/static/d7c9a2333a740a8fb94f844cf47996ee/6ff5e/blogopenapi2.png 1200w,\n/static/d7c9a2333a740a8fb94f844cf47996ee/08be5/blogopenapi2.png 1518w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Now add a new route to your code (in this example I’m adding the patch route at the end):</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1024px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/862a508d0db49b3a87661f1e09a09bb1/3b243/blogopenapi3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.12109375000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABZUlEQVQoz6WSW0sCQRiG979FCOFtd/6Ruus/BJUhgUIHqqugQgK7EDOKCsk8Yixm7WmcdfYw7sF9m9S2ukiSBh6+Obzzzvcxn5QuJpArp5BvreDgIYXt0iIyV0tIlxZwcr+KYjWLQmVrzE1nF5XeESovx7iVs9gpJ4U+gfXTZWwUkshcJyDZDkO98YRGs452u4kg9BGOvhhFQcznXjD6qQlCL55LgR/AUFUoigKTmvjXiADJC0J0qYOPKNbi9ehXwiga69yhB+75cXQ4hx+K++Jc0jSKXPYcrdYzCBmAUmsm/T4TDL7BQAwTjsPHSUq6MNzLnaH6WIOuEVE2AxXCWZjCJGaqjw1tauDu7BByowZbV8H7BjjRRfwrBlyiwbetiaGpGLjY3MdrR4ZNKCy9D8uYD6YTDC1nYthlJtYu82i99UCGLlTHmhvFZmDDack84JBNkR23wURPup4LX/TTvISjyS+/A5dl7I88v0qyAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Blog pic 3\"\n        title=\"Blog pic 3\"\n        src=\"/static/862a508d0db49b3a87661f1e09a09bb1/3b243/blogopenapi3.png\"\n        srcset=\"/static/862a508d0db49b3a87661f1e09a09bb1/135ae/blogopenapi3.png 300w,\n/static/862a508d0db49b3a87661f1e09a09bb1/34e8a/blogopenapi3.png 600w,\n/static/862a508d0db49b3a87661f1e09a09bb1/3b243/blogopenapi3.png 1024w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>You add a new API or add business logic? All you need do is recompile, run the application, visit SwaggerUI, and test your API immediately.</p>\n<p>So there you have it. A rapid development lifecycle that allows a quick deploy/test cycle for your APIs.</p>","frontmatter":{"path":"/blogs/kitura-openapi","title":"End-to-end Kitura testing with OpenAPI","author":"Neil Hardman","date":"2018-06-05"}}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}